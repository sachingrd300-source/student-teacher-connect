
{
  "entities": {
    "User": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "User",
      "type": "object",
      "description": "Represents a user in the EduConnect Pro application. Could be a teacher, student, or parent.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the user, typically the Firebase Auth UID."
        },
        "role": {
          "type": "string",
          "description": "The role of the user (tutor, student, parent)."
        },
        "name": {
          "type": "string",
          "description": "The full name of the user."
        },
        "mobileNumber": {
          "type": "string",
          "description": "The user's mobile number."
        },
        "email": {
          "type": "string",
          "description": "The user's email address.",
          "format": "email"
        },
        "status": {
          "type": "string",
          "description": "The verification status of the user (e.g., pending_verification, approved)."
        },
        "subjectCategory": {
          "type": "string",
          "description": "For tutors, the main category of subjects they teach."
        },
        "subjects": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "For tutors, a list of specific subjects they teach."
        },
        "classLevels": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "For tutors, the class levels they teach."
        },
        "qualification": {
          "type": "string",
          "description": "For tutors, their highest qualification."
        },
        "experience": {
          "type": "string",
          "description": "For tutors, their years of teaching experience."
        },
        "experienceType": {
          "type": "string",
          "description": "For tutors, the type of their teaching experience (e.g., School, Online)."
        }
      },
      "required": [
        "id",
        "role",
        "name",
        "email"
      ]
    },
    "Teacher": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Teacher",
      "type": "object",
      "description": "Represents a teacher in the EduConnect Pro application. This entity stores additional, non-public details about the teacher.",
      "properties": {
        "userId": {
          "type": "string",
          "description": "Reference to the User entity's ID. (Relationship: User 1:1 Teacher)"
        },
        "verificationCode": {
          "type": "string",
          "description": "A unique code for the teacher, can be same as userId for simplicity."
        }
      },
      "required": [
        "userId",
        "verificationCode"
      ]
    },
    "Student": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Student",
      "type": "object",
      "description": "Represents a student in the EduConnect Pro application.",
      "properties": {
        "userId": {
          "type": "string",
          "description": "Reference to the User entity. (Relationship: User 1:1 Student)"
        }
      },
      "required": [
        "userId"
      ]
    },
    "Parent": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Parent",
      "type": "object",
      "description": "Represents a parent in the EduConnect Pro application.",
      "properties": {
        "userId": {
          "type": "string",
          "description": "Reference to the User entity. (Relationship: User 1:1 Parent)"
        },
        "studentId": {
          "type": "string",
          "description": "Reference to the Student entity's user ID. (Relationship: Student 1:N Parent)"
        }
      },
      "required": [
        "userId",
        "studentId"
      ]
    },
    "Enrollment": {
      "title": "Enrollment",
      "type": "object",
      "description": "Represents the connection between a student and a teacher, including its status.",
      "properties": {
        "studentId": {
          "type": "string",
          "description": "Reference to the Student entity's user ID."
        },
        "teacherId": {
          "type": "string",
          "description": "Reference to the Teacher entity's user ID."
        },
        "status": {
          "type": "string",
          "enum": [
            "pending",
            "approved",
            "denied"
          ],
          "description": "The status of the enrollment request."
        }
      },
      "required": [
        "studentId",
        "teacherId",
        "status"
      ]
    },
    "StudyMaterial": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "StudyMaterial",
      "type": "object",
      "description": "Represents a study material resource.",
      "properties": {
        "teacherId": {
          "type": "string",
          "description": "Reference to the Teacher entity. (Relationship: Teacher 1:N StudyMaterial)"
        },
        "title": {
          "type": "string",
          "description": "The title of the study material."
        },
        "description": {
          "type": "string",
          "description": "A description of the study material."
        },
        "fileUrl": {
          "type": "string",
          "description": "URL to the study material file.",
          "format": "uri"
        },
        "subject": {
          "type": "string",
          "description": "The subject of the study material."
        },
        "type": {
          "type": "string",
          "description": "The type of study material (notes, DPP, test, etc.)."
        }
      },
      "required": [
        "teacherId",
        "title",
        "fileUrl",
        "subject",
        "type"
      ]
    },
    "Attendance": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Attendance",
      "type": "object",
      "description": "Represents a student's attendance record.",
      "properties": {
        "studentId": {
          "type": "string",
          "description": "Reference to the Student entity's user ID."
        },
        "teacherId": {
          "type": "string",
          "description": "Reference to the Teacher entity's user ID."
        },
        "date": {
          "type": "string",
          "description": "The date of the attendance record.",
          "format": "date-time"
        },
        "isPresent": {
          "type": "boolean",
          "description": "Indicates whether the student was present."
        }
      },
      "required": [
        "studentId",
        "teacherId",
        "date",
        "isPresent"
      ]
    },
    "Performance": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Performance",
      "type": "object",
      "description": "Represents a student's performance on a test.",
      "properties": {
        "studentId": {
          "type": "string",
          "description": "Reference to the Student entity's user ID."
        },
        "teacherId": {
          "type": "string",
          "description": "Reference to the Teacher entity's user ID."
        },
        "testId": {
          "type": "string",
          "description": "Reference to the Test entity."
        },
        "marks": {
          "type": "number",
          "description": "The marks obtained by the student on the test."
        }
      },
      "required": [
        "studentId",
        "teacherId",
        "testId",
        "marks"
      ]
    }
  },
  "auth": {
    "providers": [
      "password",
      "anonymous",
      "google.com"
    ]
  },
  "firestore": {
    "structure": [
      {
        "path": "/users/{userId}",
        "definition": {
          "entityName": "User",
          "schema": {
            "$ref": "#/entities/User"
          },
          "description": "Stores public user profiles (tutors, students, parents)."
        }
      },
      {
        "path": "/teachers/{teacherId}",
        "definition": {
          "entityName": "Teacher",
          "schema": {
            "$ref": "#/entities/Teacher"
          },
          "description": "Stores teacher-specific private data."
        }
      },
      {
        "path": "/enrollments/{enrollmentId}",
        "definition": {
          "entityName": "Enrollment",
          "schema": {
            "$ref": "#/entities/Enrollment"
          },
          "description": "Stores the many-to-many relationship between students and teachers."
        }
      },
      {
        "path": "/studyMaterials/{studyMaterialId}",
        "definition": {
          "entityName": "StudyMaterial",
          "schema": {
            "$ref": "#/entities/StudyMaterial"
          },
          "description": "Stores study materials uploaded by teachers."
        }
      },
      {
        "path": "/attendances/{attendanceId}",
        "definition": {
          "entityName": "Attendance",
          "schema": {
            "$ref": "#/entities/Attendance"
          },
          "description": "Stores attendance records."
        }
      },
      {
        "path": "/performances/{performanceId}",
        "definition": {
          "entityName": "Performance",
          "schema": {
            "$ref": "#/entities/Performance"
          },
          "description": "Stores student performance data."
        }
      }
    ]
  }
}
