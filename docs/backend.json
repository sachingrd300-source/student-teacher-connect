
{
  "entities": {
    "User": {
      "title": "User",
      "type": "object",
      "description": "Represents a user in the EduConnect Pro application. Could be a teacher or student.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the user, typically the Firebase Auth UID."
        },
        "role": {
          "type": "string",
          "description": "The role of the user (tutor, student)."
        },
        "name": {
          "type": "string",
          "description": "The full name of the user."
        },
        "mobileNumber": {
          "type": "string",
          "description": "The user's mobile number."
        },
        "email": {
          "type": "string",
          "description": "The user's email address.",
          "format": "email"
        },
        "status": {
          "type": "string",
          "description": "The verification status of the user (e.g., pending_verification, approved)."
        },
        "marketplaceStatus": {
            "type": "string",
            "enum": ["unverified", "pending", "approved", "denied"],
            "description": "The verification status for a student to sell in the marketplace."
        },
        "subjectCategory": {
          "type": "string",
          "description": "For tutors, the main category of subjects they teach."
        },
        "subjects": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "For tutors, a list of specific subjects they teach."
        },
        "classLevels": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "For tutors, the class levels they teach."
        },
        "qualification": {
          "type": "string",
          "description": "For tutors, their highest qualification."
        },
        "experience": {
          "type": "string",
          "description": "For tutors, their years of teaching experience."
        },
        "experienceType": {
          "type": "string",
          "description": "For tutors, the type of their teaching experience (e.g., School, Online)."
        },
        "address": {
          "type": "string",
          "description": "The user's general address. Used for tutor location or seller verification."
        },
        "coachingName": {
            "type": "string",
            "description": "The name of the tutor's coaching center or institute."
        },
        "whatsappNumber": {
            "type": "string",
            "description": "The tutor's WhatsApp number for student communication."
        },
        "aadharNumber": {
            "type": "string",
            "description": "The user's Aadhaar number for verification purposes."
        },
        "aadharPhotoUrl": {
            "type": "string",
            "description": "URL of the user's uploaded Aadhaar card photo."
        },
        "sellerPhotoUrl": {
            "type": "string",
            "description": "URL of the user's uploaded profile photo for selling."
        }
      },
      "required": [
        "id",
        "role",
        "name"
      ]
    },
    "Class": {
      "title": "Class",
      "type": "object",
      "description": "Represents a class created by a teacher.",
      "properties": {
        "teacherId": {
          "type": "string",
          "description": "The ID of the teacher who created the class."
        },
        "teacherName": {
            "type": "string",
            "description": "The name of the teacher who created the class."
        },
        "subject": {
          "type": "string",
          "description": "The subject of the class."
        },
        "classLevel": {
          "type": "string",
          "description": "The level of the class (e.g., 9-10, 11-12)."
        },
        "title": {
            "type": "string",
            "description": "The title of the class, e.g. 'Math Class 8'"
        },
        "batchTime": {
            "type": "string",
            "description": "The time of the class batch (e.g. 10:00 AM)."
        },
        "classCode": {
          "type": "string",
          "description": "A unique, shareable code for students to join the class."
        },
        "isActive": {
            "type": "boolean",
            "description": "Whether the class is active and visible to students."
        },
        "createdAt": {
            "type": "string",
            "format": "date-time"
        }
      },
      "required": [
        "teacherId",
        "teacherName",
        "title",
        "subject",
        "classLevel",
        "classCode",
        "isActive",
        "createdAt"
      ]
    },
    "Enrollment": {
      "title": "Enrollment",
      "type": "object",
      "description": "Represents a student's request to enroll in a specific class.",
      "properties": {
        "studentId": {
          "type": "string",
          "description": "The ID of the student requesting to enroll."
        },
        "studentName": {
          "type": "string",
          "description": "The name of the student requesting to enroll. Denormalized for performance."
        },
        "classId": {
          "type": "string",
          "description": "The ID of the class the student wants to join."
        },
        "teacherId": {
          "type": "string",
          "description": "The ID of the teacher who owns the class. Denormalized for security rules."
        },
        "classTitle": { "type": "string", "description": "The title of the class. Denormalized for performance." },
        "classSubject": { "type": "string", "description": "The subject of the class. Denormalized for performance." },
        "classLevel": { "type": "string", "description": "The class level of the class. Denormalized for performance." },
        "teacherName": { "type": "string", "description": "The name of the teacher. Denormalized for performance." },
        "status": {
          "type": "string",
          "enum": [
            "pending",
            "approved",
            "denied"
          ],
          "description": "The status of the enrollment request."
        },
        "createdAt": {
            "type": "string",
            "format": "date-time"
        }
      },
      "required": [
        "studentId",
        "studentName",
        "classId",
        "teacherId",
        "status",
        "createdAt",
        "classTitle",
        "classSubject",
        "classLevel",
        "teacherName"
      ]
    },
    "ClassSchedule": {
      "title": "Class Schedule",
      "type": "object",
      "description": "Represents a single scheduled class session by a teacher.",
      "properties": {
        "teacherId": {
          "type": "string",
          "description": "The ID of the teacher who owns this schedule."
        },
        "classId": {
            "type": "string",
            "description": "The ID of the class this schedule belongs to."
        },
        "classTitle": {
            "type": "string",
            "description": "The title of the class this schedule belongs to. Denormalized for performance."
        },
        "topic": {
          "type": "string",
          "description": "The topic to be covered in the class."
        },
        "subject": {
          "type": "string",
          "description": "The subject of the class."
        },
        "date": {
          "type": "string",
          "format": "date-time",
          "description": "The date and time of the scheduled class."
        },
        "time": {
          "type": "string",
          "description": "The time of the class session (e.g., '10:00 AM')."
        },
        "type": {
          "type": "string",
          "enum": ["Online", "Offline"],
          "description": "The type of the class."
        },
        "locationOrLink": {
          "type": "string",
          "description": "The physical location or online meeting link for the class."
        },
        "status": {
          "type": "string",
          "enum": ["Scheduled", "Canceled"],
          "description": "The current status of the scheduled class."
        }
      },
      "required": [
        "teacherId",
        "classId",
        "classTitle",
        "topic",
        "subject",
        "date",
        "time",
        "type",
        "status"
      ]
    },
    "Performance": {
        "title": "Performance",
        "type": "object",
        "description": "Represents a student's performance in a test.",
        "properties": {
            "teacherId": { "type": "string" },
            "studentId": { "type": "string" },
            "studentName": { "type": "string" },
            "classId": { "type": "string" },
            "testName": { "type": "string" },
            "subject": { "type": "string" },
            "marks": { "type": "number" },
            "maxMarks": { "type": "number" },
            "date": { "type": "string", "format": "date-time" }
        },
        "required": ["teacherId", "studentId", "classId", "testName", "subject", "marks", "maxMarks", "date"]
    },
    "StudyMaterial": {
        "title": "Study Material",
        "type": "object",
        "description": "Represents a study material resource uploaded by a teacher or admin.",
        "properties": {
            "teacherId": { "type": "string", "description": "The ID of the teacher who uploaded the material. Can be an admin ID." },
            "teacherName": { "type": "string", "description": "The name of the teacher who uploaded the material." },
            "classId": { "type": "string", "description": "The ID of the class this material belongs to. Null if not class-specific." },
            "classLevel": { "type": "string", "description": "The class level this material is for (e.g., Class 9, Class 12)." },
            "title": { "type": "string" },
            "description": { "type": "string" },
            "subject": { "type": "string" },
            "chapter": { "type": "string" },
            "type": { "type": "string", "enum": ["Notes", "Books", "PYQs", "Formulas", "DPP", "Homework", "Test Paper", "Solution"] },
            "isFree": { "type": "boolean", "description": "Whether the material is publically accessible."},
            "price": { "type": "number", "description": "The price of the material if it is not free." },
            "isOfficial": { "type": "boolean", "description": "Whether the material is official content from the platform." },
            "fileUrl": { "type": "string", "description": "URL to the file, if it is a file-based material." },
            "questions": {
              "type": "array",
              "description": "For 'Test Paper' type, this holds the array of generated questions.",
              "items": {
                  "type": "object",
                  "properties": {
                      "questionText": { "type": "string" },
                      "questionType": { "type": "string", "enum": ["mcq", "short_answer"] },
                      "options": { "type": "array", "items": { "type": "string" } },
                      "correctAnswer": { "type": "string" }
                  },
                  "required": ["questionText", "questionType", "correctAnswer"]
              }
            },
            "createdAt": { "type": "string", "format": "date-time" }
        },
        "required": ["teacherId", "teacherName", "title", "subject", "type", "isFree", "createdAt"]
    },
    "MarketplaceItem": {
      "title": "Marketplace Item",
      "type": "object",
      "description": "Represents an item listed for sale by a student in the marketplace.",
      "properties": {
        "sellerId": { "type": "string", "description": "The UID of the student selling the item." },
        "sellerName": { "type": "string", "description": "The name of the student selling the item." },
        "title": { "type": "string" },
        "description": { "type": "string" },
        "subject": { "type": "string" },
        "price": { "type": "number" },
        "condition": { "type": "string", "enum": ["New", "Like New", "Used", "Acceptable"] },
        "itemType": { "type": "string", "enum": ["Book", "Notes", "Equipment", "Other"] },
        "imageUrl": { "type": "string" },
        "status": { "type": "string", "enum": ["pending", "available", "sold"], "default": "available" },
        "isActive": { "type": "boolean", "description": "Controls if the item is visible in the marketplace." },
        "createdAt": { "type": "string", "format": "date-time" }
      },
      "required": ["sellerId", "sellerName", "title", "price", "itemType", "status", "createdAt"]
    },
    "Attendance": {
      "title": "Attendance",
      "type": "object",
      "description": "Represents a daily attendance record for a specific class.",
      "properties": {
        "teacherId": { "type": "string" },
        "classId": { "type": "string" },
        "date": { "type": "string", "format": "date" },
        "records": {
          "type": "object",
          "description": "A map of student UIDs to their attendance status (true for present).",
          "additionalProperties": { "type": "boolean" }
        },
        "createdAt": { "type": "string", "format": "date-time" }
      },
      "required": ["teacherId", "classId", "date", "records", "createdAt"]
    }
  },
  "auth": {
    "providers": [
      "password",
      "anonymous",
      "google.com"
    ]
  },
  "firestore": {
    "/users/{userId}": {
      "schema": {
        "$ref": "#/entities/User"
      },
      "description": "Stores public user profiles (tutors, students)."
    },
    "/classes/{classId}": {
      "schema": {
        "$ref": "#/entities/Class"
      },
      "description": "Stores classes created by teachers."
    },
    "/enrollments/{enrollmentId}": {
      "schema": {
        "$ref": "#/entities/Enrollment"
      },
      "description": "Stores student enrollment requests for specific classes."
    },
    "/classSchedules/{scheduleId}": {
      "schema": {
        "$ref": "#/entities/ClassSchedule"
      },
      "description": "Stores individual class sessions scheduled by teachers."
    },
    "/performances/{performanceId}": {
      "schema": {
        "$ref": "#/entities/Performance"
      },
      "description": "Stores student test results."
    },
    "/studyMaterials/{studyMaterialId}": {
        "schema": {
            "$ref": "#/entities/StudyMaterial"
        },
        "description": "Stores study materials uploaded by teachers or admins."
    },
    "/marketplaceItems/{itemId}": {
        "schema": {
            "$ref": "#/entities/MarketplaceItem"
        },
        "description": "Stores items listed for sale by students."
    },
    "/attendance/{attendanceId}": {
        "schema": {
            "$ref": "#/entities/Attendance"
        },
        "description": "Stores daily attendance records for classes."
    }
  }
}
